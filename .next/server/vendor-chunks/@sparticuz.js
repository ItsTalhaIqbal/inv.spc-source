"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sparticuz";
exports.ids = ["vendor-chunks/@sparticuz"];
exports.modules = {

/***/ "(rsc)/./node_modules/@sparticuz/chromium/build/helper.js":
/*!**********************************************************!*\
  !*** ./node_modules/@sparticuz/chromium/build/helper.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.downloadAndExtract = exports.isRunningInAwsLambdaNode20 = exports.isRunningInAwsLambda = exports.isValidUrl = void 0;\nconst node_fs_1 = __webpack_require__(/*! node:fs */ \"node:fs\");\nconst follow_redirects_1 = __webpack_require__(/*! follow-redirects */ \"(rsc)/./node_modules/follow-redirects/index.js\");\nconst node_os_1 = __webpack_require__(/*! node:os */ \"node:os\");\nconst tar_fs_1 = __webpack_require__(/*! tar-fs */ \"(rsc)/./node_modules/tar-fs/index.js\");\nconst node_url_1 = __webpack_require__(/*! node:url */ \"node:url\");\nconst isValidUrl = (input)=>{\n    try {\n        return !!new URL(input);\n    } catch (err) {\n        return false;\n    }\n};\nexports.isValidUrl = isValidUrl;\n/**\n * Determines if the running instance is inside an AWS Lambda container.\n * AWS_EXECUTION_ENV is for native Lambda instances\n * AWS_LAMBDA_JS_RUNTIME is for netlify instances\n * @returns boolean indicating if the running instance is inside a Lambda container\n */ const isRunningInAwsLambda = ()=>{\n    if (process.env[\"AWS_EXECUTION_ENV\"] && process.env[\"AWS_EXECUTION_ENV\"].includes(\"AWS_Lambda_nodejs\") && !process.env[\"AWS_EXECUTION_ENV\"].includes(\"20.x\")) {\n        return true;\n    } else if (process.env[\"AWS_LAMBDA_JS_RUNTIME\"] && process.env[\"AWS_LAMBDA_JS_RUNTIME\"].includes(\"nodejs\") && !process.env[\"AWS_LAMBDA_JS_RUNTIME\"].includes(\"20.x\")) {\n        return true;\n    }\n    return false;\n};\nexports.isRunningInAwsLambda = isRunningInAwsLambda;\nconst isRunningInAwsLambdaNode20 = ()=>{\n    if (process.env[\"AWS_EXECUTION_ENV\"] && process.env[\"AWS_EXECUTION_ENV\"].includes(\"20.x\")) {\n        return true;\n    } else if (process.env[\"AWS_LAMBDA_JS_RUNTIME\"] && process.env[\"AWS_LAMBDA_JS_RUNTIME\"].includes(\"20.x\")) {\n        return true;\n    }\n    return false;\n};\nexports.isRunningInAwsLambdaNode20 = isRunningInAwsLambdaNode20;\nconst downloadAndExtract = async (url)=>new Promise((resolve, reject)=>{\n        const getOptions = (0, node_url_1.parse)(url);\n        getOptions.maxBodyLength = 60 * 1024 * 1024; // 60mb\n        const destDir = `${(0, node_os_1.tmpdir)()}/chromium-pack`;\n        const extractObj = (0, tar_fs_1.extract)(destDir);\n        follow_redirects_1.https.get(url, (response)=>{\n            response.pipe(extractObj);\n            extractObj.on(\"finish\", ()=>{\n                resolve(destDir);\n            });\n        }).on(\"error\", (err)=>{\n            (0, node_fs_1.unlink)(destDir, (_)=>{\n                reject(err);\n            });\n        });\n    });\nexports.downloadAndExtract = downloadAndExtract;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNwYXJ0aWN1ei9jaHJvbWl1bS9idWlsZC9oZWxwZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYkEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0RELDBCQUEwQixHQUFHQSxrQ0FBa0MsR0FBR0EsNEJBQTRCLEdBQUdBLGtCQUFrQixHQUFHLEtBQUs7QUFDM0gsTUFBTU0sWUFBWUMsbUJBQU9BLENBQUMsd0JBQVM7QUFDbkMsTUFBTUMscUJBQXFCRCxtQkFBT0EsQ0FBQyx3RUFBa0I7QUFDckQsTUFBTUUsWUFBWUYsbUJBQU9BLENBQUMsd0JBQVM7QUFDbkMsTUFBTUcsV0FBV0gsbUJBQU9BLENBQUMsb0RBQVE7QUFDakMsTUFBTUksYUFBYUosbUJBQU9BLENBQUMsMEJBQVU7QUFDckMsTUFBTUYsYUFBYSxDQUFDTztJQUNoQixJQUFJO1FBQ0EsT0FBTyxDQUFDLENBQUMsSUFBSUMsSUFBSUQ7SUFDckIsRUFDQSxPQUFPRSxLQUFLO1FBQ1IsT0FBTztJQUNYO0FBQ0o7QUFDQWQsa0JBQWtCLEdBQUdLO0FBQ3JCOzs7OztDQUtDLEdBQ0QsTUFBTUQsdUJBQXVCO0lBQ3pCLElBQUlXLFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0IsSUFDaENELFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQ0MsUUFBUSxDQUFDLHdCQUMxQyxDQUFDRixRQUFRQyxHQUFHLENBQUMsb0JBQW9CLENBQUNDLFFBQVEsQ0FBQyxTQUFTO1FBQ3BELE9BQU87SUFDWCxPQUNLLElBQUlGLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0IsSUFDekNELFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQ0MsUUFBUSxDQUFDLGFBQzlDLENBQUNGLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQ0MsUUFBUSxDQUFDLFNBQVM7UUFDeEQsT0FBTztJQUNYO0lBQ0EsT0FBTztBQUNYO0FBQ0FqQiw0QkFBNEIsR0FBR0k7QUFDL0IsTUFBTUQsNkJBQTZCO0lBQy9CLElBQUlZLFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0IsSUFDaENELFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQ0MsUUFBUSxDQUFDLFNBQVM7UUFDbkQsT0FBTztJQUNYLE9BQ0ssSUFBSUYsUUFBUUMsR0FBRyxDQUFDLHdCQUF3QixJQUN6Q0QsUUFBUUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDQyxRQUFRLENBQUMsU0FBUztRQUN2RCxPQUFPO0lBQ1g7SUFDQSxPQUFPO0FBQ1g7QUFDQWpCLGtDQUFrQyxHQUFHRztBQUNyQyxNQUFNRCxxQkFBcUIsT0FBT2dCLE1BQVEsSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUM1RCxNQUFNQyxhQUFhLENBQUMsR0FBR1gsV0FBV1ksS0FBSyxFQUFFTDtRQUN6Q0ksV0FBV0UsYUFBYSxHQUFHLEtBQUssT0FBTyxNQUFNLE9BQU87UUFDcEQsTUFBTUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxHQUFHaEIsVUFBVWlCLE1BQU0sSUFBSSxjQUFjLENBQUM7UUFDMUQsTUFBTUMsYUFBYSxDQUFDLEdBQUdqQixTQUFTa0IsT0FBTyxFQUFFSDtRQUN6Q2pCLG1CQUFtQnFCLEtBQUssQ0FDbkJDLEdBQUcsQ0FBQ1osS0FBSyxDQUFDYTtZQUNYQSxTQUFTQyxJQUFJLENBQUNMO1lBQ2RBLFdBQVdNLEVBQUUsQ0FBQyxVQUFVO2dCQUNwQmIsUUFBUUs7WUFDWjtRQUNKLEdBQ0tRLEVBQUUsQ0FBQyxTQUFTLENBQUNuQjtZQUNiLElBQUdSLFVBQVU0QixNQUFNLEVBQUVULFNBQVMsQ0FBQ1U7Z0JBQzVCZCxPQUFPUDtZQUNYO1FBQ0o7SUFDSjtBQUNBZCwwQkFBMEIsR0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnZvaWZ5Ly4vbm9kZV9tb2R1bGVzL0BzcGFydGljdXovY2hyb21pdW0vYnVpbGQvaGVscGVyLmpzPzc1ZDMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRvd25sb2FkQW5kRXh0cmFjdCA9IGV4cG9ydHMuaXNSdW5uaW5nSW5Bd3NMYW1iZGFOb2RlMjAgPSBleHBvcnRzLmlzUnVubmluZ0luQXdzTGFtYmRhID0gZXhwb3J0cy5pc1ZhbGlkVXJsID0gdm9pZCAwO1xuY29uc3Qgbm9kZV9mc18xID0gcmVxdWlyZShcIm5vZGU6ZnNcIik7XG5jb25zdCBmb2xsb3dfcmVkaXJlY3RzXzEgPSByZXF1aXJlKFwiZm9sbG93LXJlZGlyZWN0c1wiKTtcbmNvbnN0IG5vZGVfb3NfMSA9IHJlcXVpcmUoXCJub2RlOm9zXCIpO1xuY29uc3QgdGFyX2ZzXzEgPSByZXF1aXJlKFwidGFyLWZzXCIpO1xuY29uc3Qgbm9kZV91cmxfMSA9IHJlcXVpcmUoXCJub2RlOnVybFwiKTtcbmNvbnN0IGlzVmFsaWRVcmwgPSAoaW5wdXQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gISFuZXcgVVJMKGlucHV0KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcbmV4cG9ydHMuaXNWYWxpZFVybCA9IGlzVmFsaWRVcmw7XG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIHJ1bm5pbmcgaW5zdGFuY2UgaXMgaW5zaWRlIGFuIEFXUyBMYW1iZGEgY29udGFpbmVyLlxuICogQVdTX0VYRUNVVElPTl9FTlYgaXMgZm9yIG5hdGl2ZSBMYW1iZGEgaW5zdGFuY2VzXG4gKiBBV1NfTEFNQkRBX0pTX1JVTlRJTUUgaXMgZm9yIG5ldGxpZnkgaW5zdGFuY2VzXG4gKiBAcmV0dXJucyBib29sZWFuIGluZGljYXRpbmcgaWYgdGhlIHJ1bm5pbmcgaW5zdGFuY2UgaXMgaW5zaWRlIGEgTGFtYmRhIGNvbnRhaW5lclxuICovXG5jb25zdCBpc1J1bm5pbmdJbkF3c0xhbWJkYSA9ICgpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnZbXCJBV1NfRVhFQ1VUSU9OX0VOVlwiXSAmJlxuICAgICAgICBwcm9jZXNzLmVudltcIkFXU19FWEVDVVRJT05fRU5WXCJdLmluY2x1ZGVzKFwiQVdTX0xhbWJkYV9ub2RlanNcIikgJiZcbiAgICAgICAgIXByb2Nlc3MuZW52W1wiQVdTX0VYRUNVVElPTl9FTlZcIl0uaW5jbHVkZXMoXCIyMC54XCIpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9jZXNzLmVudltcIkFXU19MQU1CREFfSlNfUlVOVElNRVwiXSAmJlxuICAgICAgICBwcm9jZXNzLmVudltcIkFXU19MQU1CREFfSlNfUlVOVElNRVwiXS5pbmNsdWRlcyhcIm5vZGVqc1wiKSAmJlxuICAgICAgICAhcHJvY2Vzcy5lbnZbXCJBV1NfTEFNQkRBX0pTX1JVTlRJTUVcIl0uaW5jbHVkZXMoXCIyMC54XCIpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0cy5pc1J1bm5pbmdJbkF3c0xhbWJkYSA9IGlzUnVubmluZ0luQXdzTGFtYmRhO1xuY29uc3QgaXNSdW5uaW5nSW5Bd3NMYW1iZGFOb2RlMjAgPSAoKSA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52W1wiQVdTX0VYRUNVVElPTl9FTlZcIl0gJiZcbiAgICAgICAgcHJvY2Vzcy5lbnZbXCJBV1NfRVhFQ1VUSU9OX0VOVlwiXS5pbmNsdWRlcyhcIjIwLnhcIikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52W1wiQVdTX0xBTUJEQV9KU19SVU5USU1FXCJdICYmXG4gICAgICAgIHByb2Nlc3MuZW52W1wiQVdTX0xBTUJEQV9KU19SVU5USU1FXCJdLmluY2x1ZGVzKFwiMjAueFwiKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydHMuaXNSdW5uaW5nSW5Bd3NMYW1iZGFOb2RlMjAgPSBpc1J1bm5pbmdJbkF3c0xhbWJkYU5vZGUyMDtcbmNvbnN0IGRvd25sb2FkQW5kRXh0cmFjdCA9IGFzeW5jICh1cmwpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBnZXRPcHRpb25zID0gKDAsIG5vZGVfdXJsXzEucGFyc2UpKHVybCk7XG4gICAgZ2V0T3B0aW9ucy5tYXhCb2R5TGVuZ3RoID0gNjAgKiAxMDI0ICogMTAyNDsgLy8gNjBtYlxuICAgIGNvbnN0IGRlc3REaXIgPSBgJHsoMCwgbm9kZV9vc18xLnRtcGRpcikoKX0vY2hyb21pdW0tcGFja2A7XG4gICAgY29uc3QgZXh0cmFjdE9iaiA9ICgwLCB0YXJfZnNfMS5leHRyYWN0KShkZXN0RGlyKTtcbiAgICBmb2xsb3dfcmVkaXJlY3RzXzEuaHR0cHNcbiAgICAgICAgLmdldCh1cmwsIChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXNwb25zZS5waXBlKGV4dHJhY3RPYmopO1xuICAgICAgICBleHRyYWN0T2JqLm9uKFwiZmluaXNoXCIsICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoZGVzdERpcik7XG4gICAgICAgIH0pO1xuICAgIH0pXG4gICAgICAgIC5vbihcImVycm9yXCIsIChlcnIpID0+IHtcbiAgICAgICAgKDAsIG5vZGVfZnNfMS51bmxpbmspKGRlc3REaXIsIChfKSA9PiB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbmV4cG9ydHMuZG93bmxvYWRBbmRFeHRyYWN0ID0gZG93bmxvYWRBbmRFeHRyYWN0O1xuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZG93bmxvYWRBbmRFeHRyYWN0IiwiaXNSdW5uaW5nSW5Bd3NMYW1iZGFOb2RlMjAiLCJpc1J1bm5pbmdJbkF3c0xhbWJkYSIsImlzVmFsaWRVcmwiLCJub2RlX2ZzXzEiLCJyZXF1aXJlIiwiZm9sbG93X3JlZGlyZWN0c18xIiwibm9kZV9vc18xIiwidGFyX2ZzXzEiLCJub2RlX3VybF8xIiwiaW5wdXQiLCJVUkwiLCJlcnIiLCJwcm9jZXNzIiwiZW52IiwiaW5jbHVkZXMiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImdldE9wdGlvbnMiLCJwYXJzZSIsIm1heEJvZHlMZW5ndGgiLCJkZXN0RGlyIiwidG1wZGlyIiwiZXh0cmFjdE9iaiIsImV4dHJhY3QiLCJodHRwcyIsImdldCIsInJlc3BvbnNlIiwicGlwZSIsIm9uIiwidW5saW5rIiwiXyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sparticuz/chromium/build/helper.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sparticuz/chromium/build/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@sparticuz/chromium/build/index.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar __importDefault = (void 0) && (void 0).__importDefault || function(mod) {\n    return mod && mod.__esModule ? mod : {\n        \"default\": mod\n    };\n};\nconst node_fs_1 = __webpack_require__(/*! node:fs */ \"node:fs\");\nconst follow_redirects_1 = __webpack_require__(/*! follow-redirects */ \"(rsc)/./node_modules/follow-redirects/index.js\");\nconst lambdafs_1 = __importDefault(__webpack_require__(/*! ./lambdafs */ \"(rsc)/./node_modules/@sparticuz/chromium/build/lambdafs.js\"));\nconst node_path_1 = __webpack_require__(/*! node:path */ \"node:path\");\nconst node_url_1 = __webpack_require__(/*! node:url */ \"node:url\");\nconst helper_1 = __webpack_require__(/*! ./helper */ \"(rsc)/./node_modules/@sparticuz/chromium/build/helper.js\");\nif ((0, helper_1.isRunningInAwsLambda)()) {\n    if (process.env[\"FONTCONFIG_PATH\"] === undefined) {\n        process.env[\"FONTCONFIG_PATH\"] = \"/tmp/fonts\";\n    }\n    if (process.env[\"LD_LIBRARY_PATH\"] === undefined) {\n        process.env[\"LD_LIBRARY_PATH\"] = \"/tmp/al2/lib\";\n    } else if (process.env[\"LD_LIBRARY_PATH\"].startsWith(\"/tmp/al2/lib\") !== true) {\n        process.env[\"LD_LIBRARY_PATH\"] = [\n            ...new Set([\n                \"/tmp/al2/lib\",\n                ...process.env[\"LD_LIBRARY_PATH\"].split(\":\")\n            ])\n        ].join(\":\");\n    }\n}\nif ((0, helper_1.isRunningInAwsLambdaNode20)()) {\n    if (process.env[\"FONTCONFIG_PATH\"] === undefined) {\n        process.env[\"FONTCONFIG_PATH\"] = \"/tmp/fonts\";\n    }\n    if (process.env[\"LD_LIBRARY_PATH\"] === undefined) {\n        process.env[\"LD_LIBRARY_PATH\"] = \"/tmp/al2023/lib\";\n    } else if (process.env[\"LD_LIBRARY_PATH\"].startsWith(\"/tmp/al2023/lib\") !== true) {\n        process.env[\"LD_LIBRARY_PATH\"] = [\n            ...new Set([\n                \"/tmp/al2023/lib\",\n                ...process.env[\"LD_LIBRARY_PATH\"].split(\":\")\n            ])\n        ].join(\":\");\n    }\n}\nclass Chromium {\n    static{\n        /**\n     * Determines the headless mode that chromium will run at\n     * https://developer.chrome.com/articles/new-headless/#try-out-the-new-headless\n     * @values true or \"new\"\n     */ this.headlessMode = \"shell\";\n    }\n    static{\n        /**\n     * If true, the graphics stack and webgl is enabled,\n     * If false, webgl will be disabled.\n     * (If false, the swiftshader.tar.br file will also not extract)\n     */ this.graphicsMode = true;\n    }\n    /**\n     * Downloads or symlinks a custom font and returns its basename, patching the environment so that Chromium can find it.\n     */ static font(input) {\n        if (process.env[\"HOME\"] === undefined) {\n            process.env[\"HOME\"] = \"/tmp\";\n        }\n        if ((0, node_fs_1.existsSync)(`${process.env[\"HOME\"]}/.fonts`) !== true) {\n            (0, node_fs_1.mkdirSync)(`${process.env[\"HOME\"]}/.fonts`);\n        }\n        return new Promise((resolve, reject)=>{\n            if (/^https?:[/][/]/i.test(input) !== true) {\n                input = `file://${input}`;\n            }\n            const url = new node_url_1.URL(input);\n            const output = `${process.env[\"HOME\"]}/.fonts/${url.pathname.split(\"/\").pop()}`;\n            if ((0, node_fs_1.existsSync)(output) === true) {\n                return resolve(output.split(\"/\").pop());\n            }\n            if (url.protocol === \"file:\") {\n                (0, node_fs_1.access)(url.pathname, (error)=>{\n                    if (error != null) {\n                        return reject(error);\n                    }\n                    (0, node_fs_1.symlink)(url.pathname, output, (error)=>{\n                        return error != null ? reject(error) : resolve(url.pathname.split(\"/\").pop());\n                    });\n                });\n            } else {\n                follow_redirects_1.https.get(input, (response)=>{\n                    if (response.statusCode !== 200) {\n                        return reject(`Unexpected status code: ${response.statusCode}.`);\n                    }\n                    const stream = (0, node_fs_1.createWriteStream)(output);\n                    stream.once(\"error\", (error)=>{\n                        return reject(error);\n                    });\n                    response.on(\"data\", (chunk)=>{\n                        stream.write(chunk);\n                    });\n                    response.once(\"end\", ()=>{\n                        stream.end(()=>{\n                            return resolve(url.pathname.split(\"/\").pop());\n                        });\n                    });\n                });\n            }\n        });\n    }\n    /**\n     * Returns a list of additional Chromium flags recommended for serverless environments.\n     * The canonical list of flags can be found on https://peter.sh/experiments/chromium-command-line-switches/.\n     */ static get args() {\n        /**\n         * These are the default args in puppeteer.\n         * https://github.com/puppeteer/puppeteer/blob/3a31070d054fa3cd8116ca31c578807ed8d6f987/packages/puppeteer-core/src/node/ChromeLauncher.ts#L185\n         */ const puppeteerFlags = [\n            \"--allow-pre-commit-input\",\n            \"--disable-background-networking\",\n            \"--disable-background-timer-throttling\",\n            \"--disable-backgrounding-occluded-windows\",\n            \"--disable-breakpad\",\n            \"--disable-client-side-phishing-detection\",\n            \"--disable-component-extensions-with-background-pages\",\n            \"--disable-component-update\",\n            \"--disable-default-apps\",\n            \"--disable-dev-shm-usage\",\n            \"--disable-extensions\",\n            \"--disable-hang-monitor\",\n            \"--disable-ipc-flooding-protection\",\n            \"--disable-popup-blocking\",\n            \"--disable-prompt-on-repost\",\n            \"--disable-renderer-backgrounding\",\n            \"--disable-sync\",\n            \"--enable-automation\",\n            // TODO(sadym): remove '--enable-blink-features=IdleDetection' once\n            // IdleDetection is turned on by default.\n            \"--enable-blink-features=IdleDetection\",\n            \"--export-tagged-pdf\",\n            \"--force-color-profile=srgb\",\n            \"--metrics-recording-only\",\n            \"--no-first-run\",\n            \"--password-store=basic\",\n            \"--use-mock-keychain\"\n        ];\n        const puppeteerDisableFeatures = [\n            \"Translate\",\n            \"BackForwardCache\",\n            // AcceptCHFrame disabled because of crbug.com/1348106.\n            \"AcceptCHFrame\",\n            \"MediaRouter\",\n            \"OptimizationHints\"\n        ];\n        const puppeteerEnableFeatures = [\n            \"NetworkServiceInProcess2\"\n        ];\n        const chromiumFlags = [\n            \"--disable-domain-reliability\",\n            \"--disable-print-preview\",\n            \"--disable-speech-api\",\n            \"--disk-cache-size=33554432\",\n            \"--mute-audio\",\n            \"--no-default-browser-check\",\n            \"--no-pings\",\n            \"--single-process\",\n            \"--font-render-hinting=none\"\n        ];\n        const chromiumDisableFeatures = [\n            \"AudioServiceOutOfProcess\",\n            \"IsolateOrigins\",\n            \"site-per-process\"\n        ];\n        const chromiumEnableFeatures = [\n            \"SharedArrayBuffer\"\n        ];\n        const graphicsFlags = [\n            \"--hide-scrollbars\",\n            \"--ignore-gpu-blocklist\",\n            \"--in-process-gpu\",\n            \"--window-size=1920,1080\"\n        ];\n        // https://chromium.googlesource.com/chromium/src/+/main/docs/gpu/swiftshader.md\n        // Blocked by https://github.com/Sparticuz/chromium/issues/247\n        //this.graphics\n        //  ? graphicsFlags.push(\"--use-gl=angle\", \"--use-angle=swiftshader\")\n        //  : graphicsFlags.push(\"--disable-webgl\");\n        graphicsFlags.push(\"--use-gl=angle\", \"--use-angle=swiftshader\");\n        const insecureFlags = [\n            \"--allow-running-insecure-content\",\n            \"--disable-setuid-sandbox\",\n            \"--disable-site-isolation-trials\",\n            \"--disable-web-security\",\n            \"--no-sandbox\",\n            \"--no-zygote\"\n        ];\n        const headlessFlags = [\n            this.headless === \"shell\" ? \"--headless='shell'\" : \"--headless\"\n        ];\n        return [\n            ...puppeteerFlags,\n            ...chromiumFlags,\n            `--disable-features=${[\n                ...puppeteerDisableFeatures,\n                ...chromiumDisableFeatures\n            ].join(\",\")}`,\n            `--enable-features=${[\n                ...puppeteerEnableFeatures,\n                ...chromiumEnableFeatures\n            ].join(\",\")}`,\n            ...graphicsFlags,\n            ...insecureFlags,\n            ...headlessFlags\n        ];\n    }\n    /**\n     * Returns sensible default viewport settings for serverless environments.\n     */ static get defaultViewport() {\n        return {\n            deviceScaleFactor: 1,\n            hasTouch: false,\n            height: 1080,\n            isLandscape: true,\n            isMobile: false,\n            width: 1920\n        };\n    }\n    /**\n     * Inflates the included version of Chromium\n     * @param input The location of the `bin` folder\n     * @returns The path to the `chromium` binary\n     */ static async executablePath(input) {\n        /**\n         * If the `chromium` binary already exists in /tmp/chromium, return it.\n         */ if ((0, node_fs_1.existsSync)(\"/tmp/chromium\") === true) {\n            return Promise.resolve(\"/tmp/chromium\");\n        }\n        /**\n         * If input is a valid URL, download and extract the file. It will extract to /tmp/chromium-pack\n         * and executablePath will be recursively called on that location, which will then extract\n         * the brotli files to the correct locations\n         */ if (input && (0, helper_1.isValidUrl)(input)) {\n            return this.executablePath(await (0, helper_1.downloadAndExtract)(input));\n        }\n        /**\n         * If input is defined, use that as the location of the brotli files,\n         * otherwise, the default location is ../bin.\n         * A custom location is needed for workflows that using custom packaging.\n         */ input ??= (0, node_path_1.join)(__dirname, \"..\", \"bin\");\n        /**\n         * If the input directory doesn't exist, throw an error.\n         */ if (!(0, node_fs_1.existsSync)(input)) {\n            throw new Error(`The input directory \"${input}\" does not exist.`);\n        }\n        // Extract the required files\n        const promises = [\n            lambdafs_1.default.inflate(`${input}/chromium.br`),\n            lambdafs_1.default.inflate(`${input}/fonts.tar.br`)\n        ];\n        if (this.graphics) {\n            // Only inflate graphics stack if needed\n            promises.push(lambdafs_1.default.inflate(`${input}/swiftshader.tar.br`));\n        }\n        if ((0, helper_1.isRunningInAwsLambda)()) {\n            // If running in AWS Lambda, extract more required files\n            promises.push(lambdafs_1.default.inflate(`${input}/al2.tar.br`));\n        }\n        if ((0, helper_1.isRunningInAwsLambdaNode20)()) {\n            promises.push(lambdafs_1.default.inflate(`${input}/al2023.tar.br`));\n        }\n        // Await all extractions\n        const result = await Promise.all(promises);\n        // Returns the first result of the promise, which is the location of the `chromium` binary\n        return result.shift();\n    }\n    /**\n     * Returns the headless mode.\n     * \"shell\" means the 'old' (legacy, chromium < 112) headless mode.\n     * `true` means the 'new' headless mode.\n     * https://developer.chrome.com/articles/new-headless/#try-out-the-new-headless\n     * @returns true | \"shell\"\n     */ static get headless() {\n        return this.headlessMode;\n    }\n    /**\n     * Sets the headless mode.\n     * \"shell\" means the 'old' (legacy, chromium < 112) headless mode.\n     * `true` means the 'new' headless mode.\n     * https://developer.chrome.com/articles/new-headless/#try-out-the-new-headless\n     * @default \"shell\"\n     */ static set setHeadlessMode(value) {\n        if (typeof value === \"string\" && value !== \"shell\" || typeof value === \"boolean\" && value !== true) {\n            throw new Error(`Headless mode must be either \\`true\\` or 'shell', you entered '${value}'`);\n        }\n        this.headlessMode = value;\n    }\n    /**\n     * Returns whether the graphics stack is enabled or disabled\n     * @returns boolean\n     */ static get graphics() {\n        return this.graphicsMode;\n    }\n    /**\n     * Sets whether the graphics stack is enabled or disabled.\n     * @param true means the stack is enabled. WebGL will work.\n     * @param false means that the stack is disabled. WebGL will not work.\n     * `false` will also skip the extract of the graphics driver, saving about a second during initial extract\n     * @default true\n     */ static set setGraphicsMode(value) {\n        if (typeof value !== \"boolean\") {\n            throw new Error(`Graphics mode must be a boolean, you entered '${value}'`);\n        }\n        // Disabling 'disabling the gpu'\n        // Blocked by https://github.com/Sparticuz/chromium/issues/247\n        // this.graphicsMode = value;\n        this.graphicsMode = true;\n    }\n}\nmodule.exports = Chromium;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNwYXJ0aWN1ei9jaHJvbWl1bS9idWlsZC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLGtCQUFrQixDQUFDLE1BQUcsS0FBSyxPQUFHLEVBQUVBLGVBQWUsSUFBSyxTQUFVQyxHQUFHO0lBQ2pFLE9BQU8sT0FBUUEsSUFBSUMsVUFBVSxHQUFJRCxNQUFNO1FBQUUsV0FBV0E7SUFBSTtBQUM1RDtBQUNBLE1BQU1FLFlBQVlDLG1CQUFPQSxDQUFDLHdCQUFTO0FBQ25DLE1BQU1DLHFCQUFxQkQsbUJBQU9BLENBQUMsd0VBQWtCO0FBQ3JELE1BQU1FLGFBQWFOLGdCQUFnQkksbUJBQU9BLENBQUMsOEVBQVk7QUFDdkQsTUFBTUcsY0FBY0gsbUJBQU9BLENBQUMsNEJBQVc7QUFDdkMsTUFBTUksYUFBYUosbUJBQU9BLENBQUMsMEJBQVU7QUFDckMsTUFBTUssV0FBV0wsbUJBQU9BLENBQUMsMEVBQVU7QUFDbkMsSUFBSSxDQUFDLEdBQUdLLFNBQVNDLG9CQUFvQixLQUFLO0lBQ3RDLElBQUlDLFFBQVFDLEdBQUcsQ0FBQyxrQkFBa0IsS0FBS0MsV0FBVztRQUM5Q0YsUUFBUUMsR0FBRyxDQUFDLGtCQUFrQixHQUFHO0lBQ3JDO0lBQ0EsSUFBSUQsUUFBUUMsR0FBRyxDQUFDLGtCQUFrQixLQUFLQyxXQUFXO1FBQzlDRixRQUFRQyxHQUFHLENBQUMsa0JBQWtCLEdBQUc7SUFDckMsT0FDSyxJQUFJRCxRQUFRQyxHQUFHLENBQUMsa0JBQWtCLENBQUNFLFVBQVUsQ0FBQyxvQkFBb0IsTUFBTTtRQUN6RUgsUUFBUUMsR0FBRyxDQUFDLGtCQUFrQixHQUFHO2VBQzFCLElBQUlHLElBQUk7Z0JBQ1A7bUJBQ0dKLFFBQVFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQ0ksS0FBSyxDQUFDO2FBQzNDO1NBQ0osQ0FBQ0MsSUFBSSxDQUFDO0lBQ1g7QUFDSjtBQUNBLElBQUksQ0FBQyxHQUFHUixTQUFTUywwQkFBMEIsS0FB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QSxnQ0FBZ0M7UUFDaEMsOERBQThEO1FBQzlELDZCQUE2QjtRQUM3QixJQUFJLENBQUM3RCxZQUFZLEdBQUc7SUFDeEI7QUFDSjtBQUNBK0QsT0FBT0MsT0FBTyxHQUFHbEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnZvaWZ5Ly4vbm9kZV9tb2R1bGVzL0BzcGFydGljdXovY2hyb21pdW0vYnVpbGQvaW5kZXguanM/OGM5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbmNvbnN0IG5vZGVfZnNfMSA9IHJlcXVpcmUoXCJub2RlOmZzXCIpO1xuY29uc3QgZm9sbG93X3JlZGlyZWN0c18xID0gcmVxdWlyZShcImZvbGxvdy1yZWRpcmVjdHNcIik7XG5jb25zdCBsYW1iZGFmc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2xhbWJkYWZzXCIpKTtcbmNvbnN0IG5vZGVfcGF0aF8xID0gcmVxdWlyZShcIm5vZGU6cGF0aFwiKTtcbmNvbnN0IG5vZGVfdXJsXzEgPSByZXF1aXJlKFwibm9kZTp1cmxcIik7XG5jb25zdCBoZWxwZXJfMSA9IHJlcXVpcmUoXCIuL2hlbHBlclwiKTtcbmlmICgoMCwgaGVscGVyXzEuaXNSdW5uaW5nSW5Bd3NMYW1iZGEpKCkpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnZbXCJGT05UQ09ORklHX1BBVEhcIl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9jZXNzLmVudltcIkZPTlRDT05GSUdfUEFUSFwiXSA9IFwiL3RtcC9mb250c1wiO1xuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnZbXCJMRF9MSUJSQVJZX1BBVEhcIl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9jZXNzLmVudltcIkxEX0xJQlJBUllfUEFUSFwiXSA9IFwiL3RtcC9hbDIvbGliXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52W1wiTERfTElCUkFSWV9QQVRIXCJdLnN0YXJ0c1dpdGgoXCIvdG1wL2FsMi9saWJcIikgIT09IHRydWUpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnZbXCJMRF9MSUJSQVJZX1BBVEhcIl0gPSBbXG4gICAgICAgICAgICAuLi5uZXcgU2V0KFtcbiAgICAgICAgICAgICAgICBcIi90bXAvYWwyL2xpYlwiLFxuICAgICAgICAgICAgICAgIC4uLnByb2Nlc3MuZW52W1wiTERfTElCUkFSWV9QQVRIXCJdLnNwbGl0KFwiOlwiKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICBdLmpvaW4oXCI6XCIpO1xuICAgIH1cbn1cbmlmICgoMCwgaGVscGVyXzEuaXNSdW5uaW5nSW5Bd3NMYW1iZGFOb2RlMjApKCkpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnZbXCJGT05UQ09ORklHX1BBVEhcIl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9jZXNzLmVudltcIkZPTlRDT05GSUdfUEFUSFwiXSA9IFwiL3RtcC9mb250c1wiO1xuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnZbXCJMRF9MSUJSQVJZX1BBVEhcIl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9jZXNzLmVudltcIkxEX0xJQlJBUllfUEFUSFwiXSA9IFwiL3RtcC9hbDIwMjMvbGliXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52W1wiTERfTElCUkFSWV9QQVRIXCJdLnN0YXJ0c1dpdGgoXCIvdG1wL2FsMjAyMy9saWJcIikgIT09IHRydWUpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnZbXCJMRF9MSUJSQVJZX1BBVEhcIl0gPSBbXG4gICAgICAgICAgICAuLi5uZXcgU2V0KFtcbiAgICAgICAgICAgICAgICBcIi90bXAvYWwyMDIzL2xpYlwiLFxuICAgICAgICAgICAgICAgIC4uLnByb2Nlc3MuZW52W1wiTERfTElCUkFSWV9QQVRIXCJdLnNwbGl0KFwiOlwiKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICBdLmpvaW4oXCI6XCIpO1xuICAgIH1cbn1cbmNsYXNzIENocm9taXVtIHtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBoZWFkbGVzcyBtb2RlIHRoYXQgY2hyb21pdW0gd2lsbCBydW4gYXRcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2FydGljbGVzL25ldy1oZWFkbGVzcy8jdHJ5LW91dC10aGUtbmV3LWhlYWRsZXNzXG4gICAgICogQHZhbHVlcyB0cnVlIG9yIFwibmV3XCJcbiAgICAgKi9cbiAgICBzdGF0aWMgaGVhZGxlc3NNb2RlID0gXCJzaGVsbFwiO1xuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHRoZSBncmFwaGljcyBzdGFjayBhbmQgd2ViZ2wgaXMgZW5hYmxlZCxcbiAgICAgKiBJZiBmYWxzZSwgd2ViZ2wgd2lsbCBiZSBkaXNhYmxlZC5cbiAgICAgKiAoSWYgZmFsc2UsIHRoZSBzd2lmdHNoYWRlci50YXIuYnIgZmlsZSB3aWxsIGFsc28gbm90IGV4dHJhY3QpXG4gICAgICovXG4gICAgc3RhdGljIGdyYXBoaWNzTW9kZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogRG93bmxvYWRzIG9yIHN5bWxpbmtzIGEgY3VzdG9tIGZvbnQgYW5kIHJldHVybnMgaXRzIGJhc2VuYW1lLCBwYXRjaGluZyB0aGUgZW52aXJvbm1lbnQgc28gdGhhdCBDaHJvbWl1bSBjYW4gZmluZCBpdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZm9udChpbnB1dCkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnZbXCJIT01FXCJdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW52W1wiSE9NRVwiXSA9IFwiL3RtcFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoMCwgbm9kZV9mc18xLmV4aXN0c1N5bmMpKGAke3Byb2Nlc3MuZW52W1wiSE9NRVwiXX0vLmZvbnRzYCkgIT09IHRydWUpIHtcbiAgICAgICAgICAgICgwLCBub2RlX2ZzXzEubWtkaXJTeW5jKShgJHtwcm9jZXNzLmVudltcIkhPTUVcIl19Ly5mb250c2ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoL15odHRwcz86Wy9dWy9dL2kudGVzdChpbnB1dCkgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGBmaWxlOi8vJHtpbnB1dH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IG5vZGVfdXJsXzEuVVJMKGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IGAke3Byb2Nlc3MuZW52W1wiSE9NRVwiXX0vLmZvbnRzLyR7dXJsLnBhdGhuYW1lXG4gICAgICAgICAgICAgICAgLnNwbGl0KFwiL1wiKVxuICAgICAgICAgICAgICAgIC5wb3AoKX1gO1xuICAgICAgICAgICAgaWYgKCgwLCBub2RlX2ZzXzEuZXhpc3RzU3luYykob3V0cHV0KSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG91dHB1dC5zcGxpdChcIi9cIikucG9wKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVybC5wcm90b2NvbCA9PT0gXCJmaWxlOlwiKSB7XG4gICAgICAgICAgICAgICAgKDAsIG5vZGVfZnNfMS5hY2Nlc3MpKHVybC5wYXRobmFtZSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoMCwgbm9kZV9mc18xLnN5bWxpbmspKHVybC5wYXRobmFtZSwgb3V0cHV0LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvciAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZWplY3QoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlKHVybC5wYXRobmFtZS5zcGxpdChcIi9cIikucG9wKCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvbGxvd19yZWRpcmVjdHNfMS5odHRwcy5nZXQoaW5wdXQsIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGBVbmV4cGVjdGVkIHN0YXR1cyBjb2RlOiAke3Jlc3BvbnNlLnN0YXR1c0NvZGV9LmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9ICgwLCBub2RlX2ZzXzEuY3JlYXRlV3JpdGVTdHJlYW0pKG91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbS5vbmNlKFwiZXJyb3JcIiwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLm9uKFwiZGF0YVwiLCAoY2h1bmspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbS53cml0ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5vbmNlKFwiZW5kXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbS5lbmQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHVybC5wYXRobmFtZS5zcGxpdChcIi9cIikucG9wKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgYWRkaXRpb25hbCBDaHJvbWl1bSBmbGFncyByZWNvbW1lbmRlZCBmb3Igc2VydmVybGVzcyBlbnZpcm9ubWVudHMuXG4gICAgICogVGhlIGNhbm9uaWNhbCBsaXN0IG9mIGZsYWdzIGNhbiBiZSBmb3VuZCBvbiBodHRwczovL3BldGVyLnNoL2V4cGVyaW1lbnRzL2Nocm9taXVtLWNvbW1hbmQtbGluZS1zd2l0Y2hlcy8uXG4gICAgICovXG4gICAgc3RhdGljIGdldCBhcmdzKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlc2UgYXJlIHRoZSBkZWZhdWx0IGFyZ3MgaW4gcHVwcGV0ZWVyLlxuICAgICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vcHVwcGV0ZWVyL3B1cHBldGVlci9ibG9iLzNhMzEwNzBkMDU0ZmEzY2Q4MTE2Y2EzMWM1Nzg4MDdlZDhkNmY5ODcvcGFja2FnZXMvcHVwcGV0ZWVyLWNvcmUvc3JjL25vZGUvQ2hyb21lTGF1bmNoZXIudHMjTDE4NVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcHVwcGV0ZWVyRmxhZ3MgPSBbXG4gICAgICAgICAgICBcIi0tYWxsb3ctcHJlLWNvbW1pdC1pbnB1dFwiLFxuICAgICAgICAgICAgXCItLWRpc2FibGUtYmFja2dyb3VuZC1uZXR3b3JraW5nXCIsXG4gICAgICAgICAgICBcIi0tZGlzYWJsZS1iYWNrZ3JvdW5kLXRpbWVyLXRocm90dGxpbmdcIixcbiAgICAgICAgICAgIFwiLS1kaXNhYmxlLWJhY2tncm91bmRpbmctb2NjbHVkZWQtd2luZG93c1wiLFxuICAgICAgICAgICAgXCItLWRpc2FibGUtYnJlYWtwYWRcIixcbiAgICAgICAgICAgIFwiLS1kaXNhYmxlLWNsaWVudC1zaWRlLXBoaXNoaW5nLWRldGVjdGlvblwiLFxuICAgICAgICAgICAgXCItLWRpc2FibGUtY29tcG9uZW50LWV4dGVuc2lvbnMtd2l0aC1iYWNrZ3JvdW5kLXBhZ2VzXCIsXG4gICAgICAgICAgICBcIi0tZGlzYWJsZS1jb21wb25lbnQtdXBkYXRlXCIsXG4gICAgICAgICAgICBcIi0tZGlzYWJsZS1kZWZhdWx0LWFwcHNcIixcbiAgICAgICAgICAgIFwiLS1kaXNhYmxlLWRldi1zaG0tdXNhZ2VcIixcbiAgICAgICAgICAgIFwiLS1kaXNhYmxlLWV4dGVuc2lvbnNcIixcbiAgICAgICAgICAgIFwiLS1kaXNhYmxlLWhhbmctbW9uaXRvclwiLFxuICAgICAgICAgICAgXCItLWRpc2FibGUtaXBjLWZsb29kaW5nLXByb3RlY3Rpb25cIixcbiAgICAgICAgICAgIFwiLS1kaXNhYmxlLXBvcHVwLWJsb2NraW5nXCIsXG4gICAgICAgICAgICBcIi0tZGlzYWJsZS1wcm9tcHQtb24tcmVwb3N0XCIsXG4gICAgICAgICAgICBcIi0tZGlzYWJsZS1yZW5kZXJlci1iYWNrZ3JvdW5kaW5nXCIsXG4gICAgICAgICAgICBcIi0tZGlzYWJsZS1zeW5jXCIsXG4gICAgICAgICAgICBcIi0tZW5hYmxlLWF1dG9tYXRpb25cIixcbiAgICAgICAgICAgIC8vIFRPRE8oc2FkeW0pOiByZW1vdmUgJy0tZW5hYmxlLWJsaW5rLWZlYXR1cmVzPUlkbGVEZXRlY3Rpb24nIG9uY2VcbiAgICAgICAgICAgIC8vIElkbGVEZXRlY3Rpb24gaXMgdHVybmVkIG9uIGJ5IGRlZmF1bHQuXG4gICAgICAgICAgICBcIi0tZW5hYmxlLWJsaW5rLWZlYXR1cmVzPUlkbGVEZXRlY3Rpb25cIixcbiAgICAgICAgICAgIFwiLS1leHBvcnQtdGFnZ2VkLXBkZlwiLFxuICAgICAgICAgICAgXCItLWZvcmNlLWNvbG9yLXByb2ZpbGU9c3JnYlwiLFxuICAgICAgICAgICAgXCItLW1ldHJpY3MtcmVjb3JkaW5nLW9ubHlcIixcbiAgICAgICAgICAgIFwiLS1uby1maXJzdC1ydW5cIixcbiAgICAgICAgICAgIFwiLS1wYXNzd29yZC1zdG9yZT1iYXNpY1wiLFxuICAgICAgICAgICAgXCItLXVzZS1tb2NrLWtleWNoYWluXCIsXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHB1cHBldGVlckRpc2FibGVGZWF0dXJlcyA9IFtcbiAgICAgICAgICAgIFwiVHJhbnNsYXRlXCIsXG4gICAgICAgICAgICBcIkJhY2tGb3J3YXJkQ2FjaGVcIixcbiAgICAgICAgICAgIC8vIEFjY2VwdENIRnJhbWUgZGlzYWJsZWQgYmVjYXVzZSBvZiBjcmJ1Zy5jb20vMTM0ODEwNi5cbiAgICAgICAgICAgIFwiQWNjZXB0Q0hGcmFtZVwiLFxuICAgICAgICAgICAgXCJNZWRpYVJvdXRlclwiLFxuICAgICAgICAgICAgXCJPcHRpbWl6YXRpb25IaW50c1wiLFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBwdXBwZXRlZXJFbmFibGVGZWF0dXJlcyA9IFtcIk5ldHdvcmtTZXJ2aWNlSW5Qcm9jZXNzMlwiXTtcbiAgICAgICAgY29uc3QgY2hyb21pdW1GbGFncyA9IFtcbiAgICAgICAgICAgIFwiLS1kaXNhYmxlLWRvbWFpbi1yZWxpYWJpbGl0eVwiLCAvLyBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL2Nocm9tZS1sYXVuY2hlci9ibG9iL21haW4vZG9jcy9jaHJvbWUtZmxhZ3MtZm9yLXRvb2xzLm1kI2JhY2tncm91bmQtbmV0d29ya2luZ1xuICAgICAgICAgICAgXCItLWRpc2FibGUtcHJpbnQtcHJldmlld1wiLCAvLyBodHRwczovL3NvdXJjZS5jaHJvbWl1bS5vcmcvc2VhcmNoP3E9bGFuZzpjcHArc3ltYm9sOmtEaXNhYmxlUHJpbnRQcmV2aWV3JnNzPWNocm9taXVtXG4gICAgICAgICAgICBcIi0tZGlzYWJsZS1zcGVlY2gtYXBpXCIsIC8vIGh0dHBzOi8vc291cmNlLmNocm9taXVtLm9yZy9zZWFyY2g/cT1sYW5nOmNwcCtzeW1ib2w6a0Rpc2FibGVTcGVlY2hBUEkmc3M9Y2hyb21pdW1cbiAgICAgICAgICAgIFwiLS1kaXNrLWNhY2hlLXNpemU9MzM1NTQ0MzJcIiwgLy8gaHR0cHM6Ly9zb3VyY2UuY2hyb21pdW0ub3JnL3NlYXJjaD9xPWxhbmc6Y3BwK3N5bWJvbDprRGlza0NhY2hlU2l6ZSZzcz1jaHJvbWl1bVxuICAgICAgICAgICAgXCItLW11dGUtYXVkaW9cIiwgLy8gaHR0cHM6Ly9zb3VyY2UuY2hyb21pdW0ub3JnL3NlYXJjaD9xPWxhbmc6Y3BwK3N5bWJvbDprTXV0ZUF1ZGlvJnNzPWNocm9taXVtXG4gICAgICAgICAgICBcIi0tbm8tZGVmYXVsdC1icm93c2VyLWNoZWNrXCIsIC8vIGh0dHBzOi8vc291cmNlLmNocm9taXVtLm9yZy9zZWFyY2g/cT1sYW5nOmNwcCtzeW1ib2w6a05vRGVmYXVsdEJyb3dzZXJDaGVjayZzcz1jaHJvbWl1bVxuICAgICAgICAgICAgXCItLW5vLXBpbmdzXCIsIC8vIGh0dHBzOi8vc291cmNlLmNocm9taXVtLm9yZy9zZWFyY2g/cT1sYW5nOmNwcCtzeW1ib2w6a05vUGluZ3Mmc3M9Y2hyb21pdW1cbiAgICAgICAgICAgIFwiLS1zaW5nbGUtcHJvY2Vzc1wiLCAvLyBOZWVkcyB0byBiZSBzaW5nbGUtcHJvY2VzcyB0byBhdm9pZCBgcHJjdGwoUFJfU0VUX05PX05FV19QUklWUykgZmFpbGVkYCBlcnJvclxuICAgICAgICAgICAgXCItLWZvbnQtcmVuZGVyLWhpbnRpbmc9bm9uZVwiLCAvLyBodHRwczovL2dpdGh1Yi5jb20vcHVwcGV0ZWVyL3B1cHBldGVlci9pc3N1ZXMvMjQxMCNpc3N1ZWNvbW1lbnQtNTYwNTczNjEyXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGNocm9taXVtRGlzYWJsZUZlYXR1cmVzID0gW1xuICAgICAgICAgICAgXCJBdWRpb1NlcnZpY2VPdXRPZlByb2Nlc3NcIixcbiAgICAgICAgICAgIFwiSXNvbGF0ZU9yaWdpbnNcIixcbiAgICAgICAgICAgIFwic2l0ZS1wZXItcHJvY2Vzc1wiLFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBjaHJvbWl1bUVuYWJsZUZlYXR1cmVzID0gW1wiU2hhcmVkQXJyYXlCdWZmZXJcIl07XG4gICAgICAgIGNvbnN0IGdyYXBoaWNzRmxhZ3MgPSBbXG4gICAgICAgICAgICBcIi0taGlkZS1zY3JvbGxiYXJzXCIsIC8vIGh0dHBzOi8vc291cmNlLmNocm9taXVtLm9yZy9zZWFyY2g/cT1sYW5nOmNwcCtzeW1ib2w6a0hpZGVTY3JvbGxiYXJzJnNzPWNocm9taXVtXG4gICAgICAgICAgICBcIi0taWdub3JlLWdwdS1ibG9ja2xpc3RcIiwgLy8gaHR0cHM6Ly9zb3VyY2UuY2hyb21pdW0ub3JnL3NlYXJjaD9xPWxhbmc6Y3BwK3N5bWJvbDprSWdub3JlR3B1QmxvY2tsaXN0JnNzPWNocm9taXVtXG4gICAgICAgICAgICBcIi0taW4tcHJvY2Vzcy1ncHVcIiwgLy8gaHR0cHM6Ly9zb3VyY2UuY2hyb21pdW0ub3JnL3NlYXJjaD9xPWxhbmc6Y3BwK3N5bWJvbDprSW5Qcm9jZXNzR1BVJnNzPWNocm9taXVtXG4gICAgICAgICAgICBcIi0td2luZG93LXNpemU9MTkyMCwxMDgwXCIsIC8vIGh0dHBzOi8vc291cmNlLmNocm9taXVtLm9yZy9zZWFyY2g/cT1sYW5nOmNwcCtzeW1ib2w6a1dpbmRvd1NpemUmc3M9Y2hyb21pdW1cbiAgICAgICAgXTtcbiAgICAgICAgLy8gaHR0cHM6Ly9jaHJvbWl1bS5nb29nbGVzb3VyY2UuY29tL2Nocm9taXVtL3NyYy8rL21haW4vZG9jcy9ncHUvc3dpZnRzaGFkZXIubWRcbiAgICAgICAgLy8gQmxvY2tlZCBieSBodHRwczovL2dpdGh1Yi5jb20vU3BhcnRpY3V6L2Nocm9taXVtL2lzc3Vlcy8yNDdcbiAgICAgICAgLy90aGlzLmdyYXBoaWNzXG4gICAgICAgIC8vICA/IGdyYXBoaWNzRmxhZ3MucHVzaChcIi0tdXNlLWdsPWFuZ2xlXCIsIFwiLS11c2UtYW5nbGU9c3dpZnRzaGFkZXJcIilcbiAgICAgICAgLy8gIDogZ3JhcGhpY3NGbGFncy5wdXNoKFwiLS1kaXNhYmxlLXdlYmdsXCIpO1xuICAgICAgICBncmFwaGljc0ZsYWdzLnB1c2goXCItLXVzZS1nbD1hbmdsZVwiLCBcIi0tdXNlLWFuZ2xlPXN3aWZ0c2hhZGVyXCIpO1xuICAgICAgICBjb25zdCBpbnNlY3VyZUZsYWdzID0gW1xuICAgICAgICAgICAgXCItLWFsbG93LXJ1bm5pbmctaW5zZWN1cmUtY29udGVudFwiLCAvLyBodHRwczovL3NvdXJjZS5jaHJvbWl1bS5vcmcvc2VhcmNoP3E9bGFuZzpjcHArc3ltYm9sOmtBbGxvd1J1bm5pbmdJbnNlY3VyZUNvbnRlbnQmc3M9Y2hyb21pdW1cbiAgICAgICAgICAgIFwiLS1kaXNhYmxlLXNldHVpZC1zYW5kYm94XCIsIC8vIGh0dHBzOi8vc291cmNlLmNocm9taXVtLm9yZy9zZWFyY2g/cT1sYW5nOmNwcCtzeW1ib2w6a0Rpc2FibGVTZXR1aWRTYW5kYm94JnNzPWNocm9taXVtXG4gICAgICAgICAgICBcIi0tZGlzYWJsZS1zaXRlLWlzb2xhdGlvbi10cmlhbHNcIiwgLy8gaHR0cHM6Ly9zb3VyY2UuY2hyb21pdW0ub3JnL3NlYXJjaD9xPWxhbmc6Y3BwK3N5bWJvbDprRGlzYWJsZVNpdGVJc29sYXRpb24mc3M9Y2hyb21pdW1cbiAgICAgICAgICAgIFwiLS1kaXNhYmxlLXdlYi1zZWN1cml0eVwiLCAvLyBodHRwczovL3NvdXJjZS5jaHJvbWl1bS5vcmcvc2VhcmNoP3E9bGFuZzpjcHArc3ltYm9sOmtEaXNhYmxlV2ViU2VjdXJpdHkmc3M9Y2hyb21pdW1cbiAgICAgICAgICAgIFwiLS1uby1zYW5kYm94XCIsIC8vIGh0dHBzOi8vc291cmNlLmNocm9taXVtLm9yZy9zZWFyY2g/cT1sYW5nOmNwcCtzeW1ib2w6a05vU2FuZGJveCZzcz1jaHJvbWl1bVxuICAgICAgICAgICAgXCItLW5vLXp5Z290ZVwiLCAvLyBodHRwczovL3NvdXJjZS5jaHJvbWl1bS5vcmcvc2VhcmNoP3E9bGFuZzpjcHArc3ltYm9sOmtOb1p5Z290ZSZzcz1jaHJvbWl1bVxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBoZWFkbGVzc0ZsYWdzID0gW1xuICAgICAgICAgICAgdGhpcy5oZWFkbGVzcyA9PT0gXCJzaGVsbFwiID8gXCItLWhlYWRsZXNzPSdzaGVsbCdcIiA6IFwiLS1oZWFkbGVzc1wiLFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgLi4ucHVwcGV0ZWVyRmxhZ3MsXG4gICAgICAgICAgICAuLi5jaHJvbWl1bUZsYWdzLFxuICAgICAgICAgICAgYC0tZGlzYWJsZS1mZWF0dXJlcz0ke1tcbiAgICAgICAgICAgICAgICAuLi5wdXBwZXRlZXJEaXNhYmxlRmVhdHVyZXMsXG4gICAgICAgICAgICAgICAgLi4uY2hyb21pdW1EaXNhYmxlRmVhdHVyZXMsXG4gICAgICAgICAgICBdLmpvaW4oXCIsXCIpfWAsXG4gICAgICAgICAgICBgLS1lbmFibGUtZmVhdHVyZXM9JHtbXG4gICAgICAgICAgICAgICAgLi4ucHVwcGV0ZWVyRW5hYmxlRmVhdHVyZXMsXG4gICAgICAgICAgICAgICAgLi4uY2hyb21pdW1FbmFibGVGZWF0dXJlcyxcbiAgICAgICAgICAgIF0uam9pbihcIixcIil9YCxcbiAgICAgICAgICAgIC4uLmdyYXBoaWNzRmxhZ3MsXG4gICAgICAgICAgICAuLi5pbnNlY3VyZUZsYWdzLFxuICAgICAgICAgICAgLi4uaGVhZGxlc3NGbGFncyxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzZW5zaWJsZSBkZWZhdWx0IHZpZXdwb3J0IHNldHRpbmdzIGZvciBzZXJ2ZXJsZXNzIGVudmlyb25tZW50cy5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRWaWV3cG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRldmljZVNjYWxlRmFjdG9yOiAxLFxuICAgICAgICAgICAgaGFzVG91Y2g6IGZhbHNlLFxuICAgICAgICAgICAgaGVpZ2h0OiAxMDgwLFxuICAgICAgICAgICAgaXNMYW5kc2NhcGU6IHRydWUsXG4gICAgICAgICAgICBpc01vYmlsZTogZmFsc2UsXG4gICAgICAgICAgICB3aWR0aDogMTkyMCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5mbGF0ZXMgdGhlIGluY2x1ZGVkIHZlcnNpb24gb2YgQ2hyb21pdW1cbiAgICAgKiBAcGFyYW0gaW5wdXQgVGhlIGxvY2F0aW9uIG9mIHRoZSBgYmluYCBmb2xkZXJcbiAgICAgKiBAcmV0dXJucyBUaGUgcGF0aCB0byB0aGUgYGNocm9taXVtYCBiaW5hcnlcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZXhlY3V0YWJsZVBhdGgoaW5wdXQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBgY2hyb21pdW1gIGJpbmFyeSBhbHJlYWR5IGV4aXN0cyBpbiAvdG1wL2Nocm9taXVtLCByZXR1cm4gaXQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoKDAsIG5vZGVfZnNfMS5leGlzdHNTeW5jKShcIi90bXAvY2hyb21pdW1cIikgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoXCIvdG1wL2Nocm9taXVtXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBpbnB1dCBpcyBhIHZhbGlkIFVSTCwgZG93bmxvYWQgYW5kIGV4dHJhY3QgdGhlIGZpbGUuIEl0IHdpbGwgZXh0cmFjdCB0byAvdG1wL2Nocm9taXVtLXBhY2tcbiAgICAgICAgICogYW5kIGV4ZWN1dGFibGVQYXRoIHdpbGwgYmUgcmVjdXJzaXZlbHkgY2FsbGVkIG9uIHRoYXQgbG9jYXRpb24sIHdoaWNoIHdpbGwgdGhlbiBleHRyYWN0XG4gICAgICAgICAqIHRoZSBicm90bGkgZmlsZXMgdG8gdGhlIGNvcnJlY3QgbG9jYXRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoaW5wdXQgJiYgKDAsIGhlbHBlcl8xLmlzVmFsaWRVcmwpKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0YWJsZVBhdGgoYXdhaXQgKDAsIGhlbHBlcl8xLmRvd25sb2FkQW5kRXh0cmFjdCkoaW5wdXQpKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgaW5wdXQgaXMgZGVmaW5lZCwgdXNlIHRoYXQgYXMgdGhlIGxvY2F0aW9uIG9mIHRoZSBicm90bGkgZmlsZXMsXG4gICAgICAgICAqIG90aGVyd2lzZSwgdGhlIGRlZmF1bHQgbG9jYXRpb24gaXMgLi4vYmluLlxuICAgICAgICAgKiBBIGN1c3RvbSBsb2NhdGlvbiBpcyBuZWVkZWQgZm9yIHdvcmtmbG93cyB0aGF0IHVzaW5nIGN1c3RvbSBwYWNrYWdpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBpbnB1dCA/Pz0gKDAsIG5vZGVfcGF0aF8xLmpvaW4pKF9fZGlybmFtZSwgXCIuLlwiLCBcImJpblwiKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBpbnB1dCBkaXJlY3RvcnkgZG9lc24ndCBleGlzdCwgdGhyb3cgYW4gZXJyb3IuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoISgwLCBub2RlX2ZzXzEuZXhpc3RzU3luYykoaW5wdXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBpbnB1dCBkaXJlY3RvcnkgXCIke2lucHV0fVwiIGRvZXMgbm90IGV4aXN0LmApO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIHJlcXVpcmVkIGZpbGVzXG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW1xuICAgICAgICAgICAgbGFtYmRhZnNfMS5kZWZhdWx0LmluZmxhdGUoYCR7aW5wdXR9L2Nocm9taXVtLmJyYCksXG4gICAgICAgICAgICBsYW1iZGFmc18xLmRlZmF1bHQuaW5mbGF0ZShgJHtpbnB1dH0vZm9udHMudGFyLmJyYCksXG4gICAgICAgIF07XG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGluZmxhdGUgZ3JhcGhpY3Mgc3RhY2sgaWYgbmVlZGVkXG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGxhbWJkYWZzXzEuZGVmYXVsdC5pbmZsYXRlKGAke2lucHV0fS9zd2lmdHNoYWRlci50YXIuYnJgKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgwLCBoZWxwZXJfMS5pc1J1bm5pbmdJbkF3c0xhbWJkYSkoKSkge1xuICAgICAgICAgICAgLy8gSWYgcnVubmluZyBpbiBBV1MgTGFtYmRhLCBleHRyYWN0IG1vcmUgcmVxdWlyZWQgZmlsZXNcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2gobGFtYmRhZnNfMS5kZWZhdWx0LmluZmxhdGUoYCR7aW5wdXR9L2FsMi50YXIuYnJgKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgwLCBoZWxwZXJfMS5pc1J1bm5pbmdJbkF3c0xhbWJkYU5vZGUyMCkoKSkge1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChsYW1iZGFmc18xLmRlZmF1bHQuaW5mbGF0ZShgJHtpbnB1dH0vYWwyMDIzLnRhci5icmApKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBd2FpdCBhbGwgZXh0cmFjdGlvbnNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCByZXN1bHQgb2YgdGhlIHByb21pc2UsIHdoaWNoIGlzIHRoZSBsb2NhdGlvbiBvZiB0aGUgYGNocm9taXVtYCBiaW5hcnlcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zaGlmdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoZWFkbGVzcyBtb2RlLlxuICAgICAqIFwic2hlbGxcIiBtZWFucyB0aGUgJ29sZCcgKGxlZ2FjeSwgY2hyb21pdW0gPCAxMTIpIGhlYWRsZXNzIG1vZGUuXG4gICAgICogYHRydWVgIG1lYW5zIHRoZSAnbmV3JyBoZWFkbGVzcyBtb2RlLlxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vYXJ0aWNsZXMvbmV3LWhlYWRsZXNzLyN0cnktb3V0LXRoZS1uZXctaGVhZGxlc3NcbiAgICAgKiBAcmV0dXJucyB0cnVlIHwgXCJzaGVsbFwiXG4gICAgICovXG4gICAgc3RhdGljIGdldCBoZWFkbGVzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVhZGxlc3NNb2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBoZWFkbGVzcyBtb2RlLlxuICAgICAqIFwic2hlbGxcIiBtZWFucyB0aGUgJ29sZCcgKGxlZ2FjeSwgY2hyb21pdW0gPCAxMTIpIGhlYWRsZXNzIG1vZGUuXG4gICAgICogYHRydWVgIG1lYW5zIHRoZSAnbmV3JyBoZWFkbGVzcyBtb2RlLlxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vYXJ0aWNsZXMvbmV3LWhlYWRsZXNzLyN0cnktb3V0LXRoZS1uZXctaGVhZGxlc3NcbiAgICAgKiBAZGVmYXVsdCBcInNoZWxsXCJcbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0IHNldEhlYWRsZXNzTW9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAoKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZSAhPT0gXCJzaGVsbFwiKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIgJiYgdmFsdWUgIT09IHRydWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhlYWRsZXNzIG1vZGUgbXVzdCBiZSBlaXRoZXIgXFxgdHJ1ZVxcYCBvciAnc2hlbGwnLCB5b3UgZW50ZXJlZCAnJHt2YWx1ZX0nYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oZWFkbGVzc01vZGUgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBncmFwaGljcyBzdGFjayBpcyBlbmFibGVkIG9yIGRpc2FibGVkXG4gICAgICogQHJldHVybnMgYm9vbGVhblxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZ3JhcGhpY3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNzTW9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRoZSBncmFwaGljcyBzdGFjayBpcyBlbmFibGVkIG9yIGRpc2FibGVkLlxuICAgICAqIEBwYXJhbSB0cnVlIG1lYW5zIHRoZSBzdGFjayBpcyBlbmFibGVkLiBXZWJHTCB3aWxsIHdvcmsuXG4gICAgICogQHBhcmFtIGZhbHNlIG1lYW5zIHRoYXQgdGhlIHN0YWNrIGlzIGRpc2FibGVkLiBXZWJHTCB3aWxsIG5vdCB3b3JrLlxuICAgICAqIGBmYWxzZWAgd2lsbCBhbHNvIHNraXAgdGhlIGV4dHJhY3Qgb2YgdGhlIGdyYXBoaWNzIGRyaXZlciwgc2F2aW5nIGFib3V0IGEgc2Vjb25kIGR1cmluZyBpbml0aWFsIGV4dHJhY3RcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgc3RhdGljIHNldCBzZXRHcmFwaGljc01vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgR3JhcGhpY3MgbW9kZSBtdXN0IGJlIGEgYm9vbGVhbiwgeW91IGVudGVyZWQgJyR7dmFsdWV9J2ApO1xuICAgICAgICB9XG4gICAgICAgIC8vIERpc2FibGluZyAnZGlzYWJsaW5nIHRoZSBncHUnXG4gICAgICAgIC8vIEJsb2NrZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL1NwYXJ0aWN1ei9jaHJvbWl1bS9pc3N1ZXMvMjQ3XG4gICAgICAgIC8vIHRoaXMuZ3JhcGhpY3NNb2RlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3NNb2RlID0gdHJ1ZTtcbiAgICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IENocm9taXVtO1xuIl0sIm5hbWVzIjpbIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJub2RlX2ZzXzEiLCJyZXF1aXJlIiwiZm9sbG93X3JlZGlyZWN0c18xIiwibGFtYmRhZnNfMSIsIm5vZGVfcGF0aF8xIiwibm9kZV91cmxfMSIsImhlbHBlcl8xIiwiaXNSdW5uaW5nSW5Bd3NMYW1iZGEiLCJwcm9jZXNzIiwiZW52IiwidW5kZWZpbmVkIiwic3RhcnRzV2l0aCIsIlNldCIsInNwbGl0Iiwiam9pbiIsImlzUnVubmluZ0luQXdzTGFtYmRhTm9kZTIwIiwiQ2hyb21pdW0iLCJoZWFkbGVzc01vZGUiLCJncmFwaGljc01vZGUiLCJmb250IiwiaW5wdXQiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0ZXN0IiwidXJsIiwiVVJMIiwib3V0cHV0IiwicGF0aG5hbWUiLCJwb3AiLCJwcm90b2NvbCIsImFjY2VzcyIsImVycm9yIiwic3ltbGluayIsImh0dHBzIiwiZ2V0IiwicmVzcG9uc2UiLCJzdGF0dXNDb2RlIiwic3RyZWFtIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJvbmNlIiwib24iLCJjaHVuayIsIndyaXRlIiwiZW5kIiwiYXJncyIsInB1cHBldGVlckZsYWdzIiwicHVwcGV0ZWVyRGlzYWJsZUZlYXR1cmVzIiwicHVwcGV0ZWVyRW5hYmxlRmVhdHVyZXMiLCJjaHJvbWl1bUZsYWdzIiwiY2hyb21pdW1EaXNhYmxlRmVhdHVyZXMiLCJjaHJvbWl1bUVuYWJsZUZlYXR1cmVzIiwiZ3JhcGhpY3NGbGFncyIsInB1c2giLCJpbnNlY3VyZUZsYWdzIiwiaGVhZGxlc3NGbGFncyIsImhlYWRsZXNzIiwiZGVmYXVsdFZpZXdwb3J0IiwiZGV2aWNlU2NhbGVGYWN0b3IiLCJoYXNUb3VjaCIsImhlaWdodCIsImlzTGFuZHNjYXBlIiwiaXNNb2JpbGUiLCJ3aWR0aCIsImV4ZWN1dGFibGVQYXRoIiwiaXNWYWxpZFVybCIsImRvd25sb2FkQW5kRXh0cmFjdCIsIl9fZGlybmFtZSIsIkVycm9yIiwicHJvbWlzZXMiLCJkZWZhdWx0IiwiaW5mbGF0ZSIsImdyYXBoaWNzIiwicmVzdWx0IiwiYWxsIiwic2hpZnQiLCJzZXRIZWFkbGVzc01vZGUiLCJ2YWx1ZSIsInNldEdyYXBoaWNzTW9kZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sparticuz/chromium/build/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sparticuz/chromium/build/lambdafs.js":
/*!************************************************************!*\
  !*** ./node_modules/@sparticuz/chromium/build/lambdafs.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nconst node_fs_1 = __webpack_require__(/*! node:fs */ \"node:fs\");\nconst node_os_1 = __webpack_require__(/*! node:os */ \"node:os\");\nconst node_path_1 = __webpack_require__(/*! node:path */ \"node:path\");\nconst tar_fs_1 = __webpack_require__(/*! tar-fs */ \"(rsc)/./node_modules/tar-fs/index.js\");\nconst node_zlib_1 = __webpack_require__(/*! node:zlib */ \"node:zlib\");\nclass LambdaFS {\n    /**\n     * Decompresses a (tarballed) Brotli or Gzip compressed file and returns the path to the decompressed file/folder.\n     *\n     * @param filePath Path of the file to decompress.\n     */ static inflate(filePath) {\n        const output = filePath.includes(\"swiftshader\") ? (0, node_os_1.tmpdir)() : (0, node_path_1.join)((0, node_os_1.tmpdir)(), (0, node_path_1.basename)(filePath).replace(/[.](?:t(?:ar(?:[.](?:br|gz))?|br|gz)|br|gz)$/i, \"\"));\n        return new Promise((resolve, reject)=>{\n            if (filePath.includes(\"swiftshader\")) {\n                if ((0, node_fs_1.existsSync)(`${output}/libGLESv2.so`)) {\n                    return resolve(output);\n                }\n            } else {\n                if ((0, node_fs_1.existsSync)(output) === true) {\n                    return resolve(output);\n                }\n            }\n            let source = (0, node_fs_1.createReadStream)(filePath, {\n                highWaterMark: 2 ** 23\n            });\n            let target = null;\n            if (/[.](?:t(?:ar(?:[.](?:br|gz))?|br|gz))$/i.test(filePath) === true) {\n                target = (0, tar_fs_1.extract)(output);\n                target.once(\"finish\", ()=>{\n                    return resolve(output);\n                });\n            } else {\n                target = (0, node_fs_1.createWriteStream)(output, {\n                    mode: 448\n                });\n            }\n            source.once(\"error\", (error)=>{\n                return reject(error);\n            });\n            target.once(\"error\", (error)=>{\n                return reject(error);\n            });\n            target.once(\"close\", ()=>{\n                return resolve(output);\n            });\n            if (/(?:br|gz)$/i.test(filePath) === true) {\n                source.pipe(/br$/i.test(filePath) ? (0, node_zlib_1.createBrotliDecompress)({\n                    chunkSize: 2 ** 21\n                }) : (0, node_zlib_1.createUnzip)({\n                    chunkSize: 2 ** 21\n                })).pipe(target);\n            } else {\n                source.pipe(target);\n            }\n        });\n    }\n}\nexports[\"default\"] = LambdaFS;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNwYXJ0aWN1ei9jaHJvbWl1bS9idWlsZC9sYW1iZGFmcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiQSw4Q0FBNkM7SUFBRUcsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RCxNQUFNQyxZQUFZQyxtQkFBT0EsQ0FBQyx3QkFBUztBQUNuQyxNQUFNQyxZQUFZRCxtQkFBT0EsQ0FBQyx3QkFBUztBQUNuQyxNQUFNRSxjQUFjRixtQkFBT0EsQ0FBQyw0QkFBVztBQUN2QyxNQUFNRyxXQUFXSCxtQkFBT0EsQ0FBQyxvREFBUTtBQUNqQyxNQUFNSSxjQUFjSixtQkFBT0EsQ0FBQyw0QkFBVztBQUN2QyxNQUFNSztJQUNGOzs7O0tBSUMsR0FDRCxPQUFPQyxRQUFRQyxRQUFRLEVBQUU7UUFDckIsTUFBTUMsU0FBU0QsU0FBU0UsUUFBUSxDQUFDLGlCQUMzQixDQUFDLEdBQUdSLFVBQVVTLE1BQU0sTUFDcEIsQ0FBQyxHQUFHUixZQUFZUyxJQUFJLEVBQUUsQ0FBQyxHQUFHVixVQUFVUyxNQUFNLEtBQUssQ0FBQyxHQUFHUixZQUFZVSxRQUFRLEVBQUVMLFVBQVVNLE9BQU8sQ0FBQyxpREFBaUQ7UUFDbEosT0FBTyxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO1lBQ3pCLElBQUlULFNBQVNFLFFBQVEsQ0FBQyxnQkFBZ0I7Z0JBQ2xDLElBQUksQ0FBQyxHQUFHVixVQUFVa0IsVUFBVSxFQUFFLENBQUMsRUFBRVQsT0FBTyxhQUFhLENBQUMsR0FBRztvQkFDckQsT0FBT08sUUFBUVA7Z0JBQ25CO1lBQ0osT0FDSztnQkFDRCxJQUFJLENBQUMsR0FBR1QsVUFBVWtCLFVBQVUsRUFBRVQsWUFBWSxNQUFNO29CQUM1QyxPQUFPTyxRQUFRUDtnQkFDbkI7WUFDSjtZQUNBLElBQUlVLFNBQVMsQ0FBQyxHQUFHbkIsVUFBVW9CLGdCQUFnQixFQUFFWixVQUFVO2dCQUFFYSxlQUFlLEtBQUs7WUFBRztZQUNoRixJQUFJQyxTQUFTO1lBQ2IsSUFBSSwwQ0FBMENDLElBQUksQ0FBQ2YsY0FBYyxNQUFNO2dCQUNuRWMsU0FBUyxDQUFDLEdBQUdsQixTQUFTb0IsT0FBTyxFQUFFZjtnQkFDL0JhLE9BQU9HLElBQUksQ0FBQyxVQUFVO29CQUNsQixPQUFPVCxRQUFRUDtnQkFDbkI7WUFDSixPQUNLO2dCQUNEYSxTQUFTLENBQUMsR0FBR3RCLFVBQVUwQixpQkFBaUIsRUFBRWpCLFFBQVE7b0JBQUVrQixNQUFNO2dCQUFNO1lBQ3BFO1lBQ0FSLE9BQU9NLElBQUksQ0FBQyxTQUFTLENBQUNHO2dCQUNsQixPQUFPWCxPQUFPVztZQUNsQjtZQUNBTixPQUFPRyxJQUFJLENBQUMsU0FBUyxDQUFDRztnQkFDbEIsT0FBT1gsT0FBT1c7WUFDbEI7WUFDQU4sT0FBT0csSUFBSSxDQUFDLFNBQVM7Z0JBQ2pCLE9BQU9ULFFBQVFQO1lBQ25CO1lBQ0EsSUFBSSxjQUFjYyxJQUFJLENBQUNmLGNBQWMsTUFBTTtnQkFDdkNXLE9BQ0tVLElBQUksQ0FBQyxPQUFPTixJQUFJLENBQUNmLFlBQ2hCLENBQUMsR0FBR0gsWUFBWXlCLHNCQUFzQixFQUFFO29CQUFFQyxXQUFXLEtBQUs7Z0JBQUcsS0FDN0QsQ0FBQyxHQUFHMUIsWUFBWTJCLFdBQVcsRUFBRTtvQkFBRUQsV0FBVyxLQUFLO2dCQUFHLElBQ25ERixJQUFJLENBQUNQO1lBQ2QsT0FDSztnQkFDREgsT0FBT1UsSUFBSSxDQUFDUDtZQUNoQjtRQUNKO0lBQ0o7QUFDSjtBQUNBeEIsa0JBQWUsR0FBR1EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnZvaWZ5Ly4vbm9kZV9tb2R1bGVzL0BzcGFydGljdXovY2hyb21pdW0vYnVpbGQvbGFtYmRhZnMuanM/NzQzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG5vZGVfZnNfMSA9IHJlcXVpcmUoXCJub2RlOmZzXCIpO1xuY29uc3Qgbm9kZV9vc18xID0gcmVxdWlyZShcIm5vZGU6b3NcIik7XG5jb25zdCBub2RlX3BhdGhfMSA9IHJlcXVpcmUoXCJub2RlOnBhdGhcIik7XG5jb25zdCB0YXJfZnNfMSA9IHJlcXVpcmUoXCJ0YXItZnNcIik7XG5jb25zdCBub2RlX3psaWJfMSA9IHJlcXVpcmUoXCJub2RlOnpsaWJcIik7XG5jbGFzcyBMYW1iZGFGUyB7XG4gICAgLyoqXG4gICAgICogRGVjb21wcmVzc2VzIGEgKHRhcmJhbGxlZCkgQnJvdGxpIG9yIEd6aXAgY29tcHJlc3NlZCBmaWxlIGFuZCByZXR1cm5zIHRoZSBwYXRoIHRvIHRoZSBkZWNvbXByZXNzZWQgZmlsZS9mb2xkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmlsZVBhdGggUGF0aCBvZiB0aGUgZmlsZSB0byBkZWNvbXByZXNzLlxuICAgICAqL1xuICAgIHN0YXRpYyBpbmZsYXRlKGZpbGVQYXRoKSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IGZpbGVQYXRoLmluY2x1ZGVzKFwic3dpZnRzaGFkZXJcIilcbiAgICAgICAgICAgID8gKDAsIG5vZGVfb3NfMS50bXBkaXIpKClcbiAgICAgICAgICAgIDogKDAsIG5vZGVfcGF0aF8xLmpvaW4pKCgwLCBub2RlX29zXzEudG1wZGlyKSgpLCAoMCwgbm9kZV9wYXRoXzEuYmFzZW5hbWUpKGZpbGVQYXRoKS5yZXBsYWNlKC9bLl0oPzp0KD86YXIoPzpbLl0oPzpicnxneikpP3xicnxneil8YnJ8Z3opJC9pLCBcIlwiKSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoZmlsZVBhdGguaW5jbHVkZXMoXCJzd2lmdHNoYWRlclwiKSkge1xuICAgICAgICAgICAgICAgIGlmICgoMCwgbm9kZV9mc18xLmV4aXN0c1N5bmMpKGAke291dHB1dH0vbGliR0xFU3YyLnNvYCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUob3V0cHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoKDAsIG5vZGVfZnNfMS5leGlzdHNTeW5jKShvdXRwdXQpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG91dHB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHNvdXJjZSA9ICgwLCBub2RlX2ZzXzEuY3JlYXRlUmVhZFN0cmVhbSkoZmlsZVBhdGgsIHsgaGlnaFdhdGVyTWFyazogMiAqKiAyMyB9KTtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKC9bLl0oPzp0KD86YXIoPzpbLl0oPzpicnxneikpP3xicnxneikpJC9pLnRlc3QoZmlsZVBhdGgpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gKDAsIHRhcl9mc18xLmV4dHJhY3QpKG91dHB1dCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0Lm9uY2UoXCJmaW5pc2hcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShvdXRwdXQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gKDAsIG5vZGVfZnNfMS5jcmVhdGVXcml0ZVN0cmVhbSkob3V0cHV0LCB7IG1vZGU6IDBvNzAwIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291cmNlLm9uY2UoXCJlcnJvclwiLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGFyZ2V0Lm9uY2UoXCJlcnJvclwiLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGFyZ2V0Lm9uY2UoXCJjbG9zZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUob3V0cHV0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKC8oPzpicnxneikkL2kudGVzdChmaWxlUGF0aCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgLnBpcGUoL2JyJC9pLnRlc3QoZmlsZVBhdGgpXG4gICAgICAgICAgICAgICAgICAgID8gKDAsIG5vZGVfemxpYl8xLmNyZWF0ZUJyb3RsaURlY29tcHJlc3MpKHsgY2h1bmtTaXplOiAyICoqIDIxIH0pXG4gICAgICAgICAgICAgICAgICAgIDogKDAsIG5vZGVfemxpYl8xLmNyZWF0ZVVuemlwKSh7IGNodW5rU2l6ZTogMiAqKiAyMSB9KSlcbiAgICAgICAgICAgICAgICAgICAgLnBpcGUodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5waXBlKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IExhbWJkYUZTO1xuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwibm9kZV9mc18xIiwicmVxdWlyZSIsIm5vZGVfb3NfMSIsIm5vZGVfcGF0aF8xIiwidGFyX2ZzXzEiLCJub2RlX3psaWJfMSIsIkxhbWJkYUZTIiwiaW5mbGF0ZSIsImZpbGVQYXRoIiwib3V0cHV0IiwiaW5jbHVkZXMiLCJ0bXBkaXIiLCJqb2luIiwiYmFzZW5hbWUiLCJyZXBsYWNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJleGlzdHNTeW5jIiwic291cmNlIiwiY3JlYXRlUmVhZFN0cmVhbSIsImhpZ2hXYXRlck1hcmsiLCJ0YXJnZXQiLCJ0ZXN0IiwiZXh0cmFjdCIsIm9uY2UiLCJjcmVhdGVXcml0ZVN0cmVhbSIsIm1vZGUiLCJlcnJvciIsInBpcGUiLCJjcmVhdGVCcm90bGlEZWNvbXByZXNzIiwiY2h1bmtTaXplIiwiY3JlYXRlVW56aXAiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sparticuz/chromium/build/lambdafs.js\n");

/***/ })

};
;